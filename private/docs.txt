Version Control Definition
Ver.1.0.1:  Initial Version
    ' ' '-> Workflow version, requires auditing (developement)
    ' '---> Module Version, requires auditing and approval (testing, development)
    '-----> Module Version, requires memo (productions)

'Printed On: '+ str(request.now.strftime('%d/%m/%Y,%H:%M'))
Inventory:

- Ver.1.0.4 - 30/8/2020, Stock Corrections.
    Issues:
    - Manoj:
    -   When viewed by the requestor, put a GO BACK or ABORT button to enable him/her to leave the page. = Resolved.
    - MANOJ’s Workflow
    -   Rejected Stock Correction by Jyothi is not going back to requestor manoj. = Resolved
    -   Manoj should have the option to request again or cancel it permanently = Resolved
    - jyothi:
    -   Add new column to display the Grand Total of the Stock Corrections = Resolved
    -   Total Amount of the first item is blank = Resolved

- Ver.1.0.3 - 30/8/2020, Stock Adjustment.
    Issues:
    - Change the caption GRAND TOTAL W/T > Grand Total Without Selective Tax = Resolved.
    - Add Account Code Column = Resolved.
    - Change the caption Choose Location Code > Choose Location = Resolved.)
    - Stock Adjustment Code need to be inputted and search from the master account file. Display both Adjustment Code and Name = Resolved
    - For Stock Adjustment +, any item code  is not existing in the Stock File for the selected location should accept entry and during Saving Time it should automatically append a new record for the item with the selected location with zero values. The quantity will be added once the Stock Adjustment + is confirmed and completed. = Resolved. (After jyothi's approval the new item(not existing location) on selected location added as closing stock.)
    - Unit Price is Average Cost+Selective Tax , same idea in Obsolescence Stock Invoice. = Resolved.
    - When adding an item on the grid, the edited average cost is not reflecting on the grid. = Resolved.
    - Selective Tax for Saleable and FOC should be displayed same idea in Obsolescence Stock Invoice = Resolved.
    - When you click on ABORT button the above error comes. = Resolved. 
    - There’s no back or close button when viewing the  workflow report of user – Jyothi and Manoj = Resolved    
    - Add the selective tax information on the printing and put a separate grand total without selective tax. = Resolved
    - Add the columns Transaction number, Account code on the workflow reports and master report grid = Resolved.
    - Under Inventory > Transaction , change the caption Adjustmen +/- into Stock Adjustment = Resolved

- Ver.1.0.2 - 26/8/2020, Obsolescence of stocks.
    Issues:
    - Workflow Reports – Should display all Obsolescence Stock that he approved regardless of status. = Resolved
    - Should include the price and selective tax details same like the Invoice. = Resolved
    - All Workflow Reports and Master Report of Obsolescence should be viewed on the grid in Descending Order for all the users. = Resolved
    - Change the Print Counter > “Printed On” + <date/time> = Resolved
    - When you click ABORT button, it’s going back to the Obsolescence Stock Master Report (see attached below) = Resolved
    - The above error comes when you are inputting 2 or 3 digits on the Quantity of any item = Resolved, (Increase the decimal floating point "Price Cost, Total Amount")
    - View and Approval not working again = Resolved, Caught during my modification
    Updated:
    - Jyothi's final approval, printing added.

- Ver.1.0.1 - 25/8/2020, Initial version control    
    

Sales:
    - Ver.1.0.1 - 25/8/2020, Initial version control

Procurement: - Ver.1.0.1 - 25/8/2020, Initial version control

- Ver.1.0.6 - 23/9/2020, Purchase Request
    Issues:
    - Category should be “Normal and FOC” only. Resolved
    - Calculations for Net Amount is not correct when inputting Added Discount. Resolved
    - After the 1st entry of Item – Net Amount is “0” NOTE: It will come only after the second entry of item. Resolved
    - The above error comes if you are adding an item with the Category “P” or FOC. Resolved

- Ver.1.0.5 - 9/9/2020, Direct Purchase Receipt
    Issues:
    - Added field landed_cost, price_cost_pcs, average_cost_pcs, wholesale_price_pcs,
    retail_price_pcs, location_code_id, transaction_type,transaction_date and purchase_receipt_no. Resolved.
    - Purchase Order No field validation not empty. Resolved.

- Ver.1.0.4 - 7/9/2020, Direct Purchase Receipt
    Issues:
    - Printing after approval. Resolved
    - Supplier Price in grid editable. Resolved.
    - Rejected transaction in workflow report. Resolved.
    - Exchange rate, Landed cost decimal to 4. Resolved.
    - Global discount to amount. Resolved.
    - Item's in stock file added if location not existed yet in stock file. Resolved. 

- Ver.1.0.3 - 6/9/2020, Direct Purchase Receipt
    Issues:
    - Status default to onhold and for approval. = Resolved
    - Most recent cost label change to supplier price. = Resolved.
    - changing field order arrangent. = Resolved
    - validation of landed cost != 0 and exchange rate. = Resolved
    - discount by items = Resolved.
    - category items excess removed. = Resolved.
    - label for other changes, selective tax, custom duty charge and landed cost ammendment. =  Resolved.
    - no negative entry for quantity and pieces. = Resolved.

- Ver.1.0.2 - 6/9/2020, Direct Purchase Receipt
    Issues:
    - Status default to onhold and for approval. = Resolved
    - Most recent cost label change to supplier price. = Resolved.
    - changing field order arrangent. = Resolved
    - validation of landed cost != 0 and exchange rate. = Resolved
    - discount by items = Resolved.
    - category items excess removed. = Resolved.
    - label for other changes, selective tax, custom duty charge and landed cost ammendment. =  Resolved.
    - no negative entry for quantity and pieces. = Resolved.



Activities:

2020-7-16 # price_cost_after_discount field added
2020-8-20 # abraham add stock transactions in reports

Todo's:
HAKIM - sales_order_store_keeper_view # print redirect error
MANOJ - stock_adjustment_add_new # transaction date only must show

SALES TRANSACTION PRICE/COST DESCRIPTION		
DETAILS	                PRICE LEVEL	DESCRIPTION
PRICE COST	            PER PIECE	WHOLESALE PRICE / UOM VALUE
SALE COST	            PER PIECE	WHOLESALE PRICE / UOM VALUE LESS (DISCOUNT % per item) 
AVERAGE COST	        PER PIECE	AVERAGE COST / UOM VALUE
WHOLESALE COST	        PER PIECE	WHOSALE PRICE / UOM VALUE
RETAIL COST	            PER PIECE	RETAIL PRICE / UOM VALUE
SELECTIVE TAX AMOUNT	OUTER	    TAKE IT FROM ITEM PRICE TABLE AS IT IS
* Note: Decimal Discount (DISCOUNT ADDED) from Header should be deducted on the first item only		
		
PRICE COST IF FOC	    PER PIECE	AVERAGE COST / UOM VALUE



Procurement         WH      ACCOUNTS
PR = 1,3,19,20,11   17      18-25
PO = 22-17-18-25-21 17-18

Thing's to do:
- create 1 grid in all transaction
- create 1 function for all grid approval/rejection (all transaction)
- create 1 function for all form approval/rejection (all transaction)

Stock transfer - is the act of moving goods from one part of the distribution chain to another. 
An internal purchase order is created for stock transfer between branches and warehouses.

Sales Order - is a document generated by the seller upon receiving a purchase order from a buyer 
specifying the details about the items along with quantity, price. It's  also use as a confirmation 
document that is sent to the customers before delivery of items.

Delivery Note - is a document that lists all the goods included in a delivery, and is often referred to as a dispatch note, 
or goods receipt. The note is included in the shipment and lists the quantity of products included in the delivery, 
it doesn't list any values like price of goods.

Sales Return - is a merchandise that was returned to the seller by a customer. 

Purchase Receipts - are made when you accept Items from your Supplier usually against a Purchase Order. 
You can also accept Purchase Receipts directly without the need for a Purchase Order.

Purchase Return - is a prime entry book or a daybook which is used to record purchase returns. 
In other words, it is the journal which is used to record the goods which are returned to the suppliers.

Stock Adjustment - enable you to increase or decrease the quantity of items you have "In Stock" for a tracked 
inventory item, or revalue the item. 

Stock Corrections - used to adjust the in-stock quantity for a product. This might be used to correct the 
quantity of an item after a stock take or to write-off damaged items. When items are added or 
removed the necessary accounting adjustments will be made automatically.

Obsolescence of Stock -  is a term that refers to inventory that is at the end of its product life cycle. 
This inventory has not been sold or used for a long period of time and is not expected to be sold in the future. 
This type of inventory has to be written-down or written-off and can cause large losses for a company.

if _ip.selective_tax_price:            
    if int(request.vars.category_id) == 3:
        _selective_tax_foc = (float(_ip.selective_tax_price or 0) / int(_id.uom_value)) * int(_tq)
    else:                
        _selective_tax = (float(_ip.selective_tax_price or 0) / int(_id.uom_value)) * int(_tq)

unit price = ((wholesale_price  / uom) * uom) + ((selective_tax / uom) * uom)

API BASIC CRUD
Operation	    =    SQL	    =   HTTP	        =       RESTful WS	=   DDS	        =   MongoDB
Create	        -    INSERT	    -   PUT/POST	    -       POST	    -   write	    -   Insert
Read (Retrieve)	-    SELECT	    -   GET	            -       GET	        -   read/take	-   Find
Update (Modify)	-    UPDATE	    -   PUT/POST/PATCH	-       PUT	        -   write	    -   Update
Delete (Destroy)-	 DELETE	    -   DELETE	        -       DELETE	    -   dispose	    -   Delete

$('input[type="number"]').prop('readonly', true);
$(':text').prop('readonly', true);
$('yourFormSelector input[type="text"]').prop('readonly', true);
$('.classname').attr('readonly', 'readonly');
$('.classname').prop('readonly', true);
$('.form-control').prop('readonly', true);

total = quantity * wholesale price

TOTAL AMOUNT = TOTAL AMOUNT + ((TOTAL AMOUNT * SELECTIVE TAX) / 100) 
EX: 50 + (50 * 100) / 100

DELIVERY NOTE HAKIM PRINT

NO AMOUNT ONLY QUANTITY
SALES INVOICE REPORT WITH AMOUNT
 
NO REMARKS

total amount = wholesale + (retail price * selective tax) / 100

selective tax = retail price + selective tax / 100

discount = grand total * discount / 100
grand total = grand total - discount

condition 
if item selective = disabled discount


IF CATEGORY IS P ALLOW DUPLICATE ITEMS

# for item discount
formula: 
    net price = (unit price * (100 - discount)) / 100
example:
    unit price  =   130
    discount    =   10 %
    net price = ( 130 * (100 - 10)) / 100

limit the items in printing, invoice and sales return only
for k in db((db.Stock_Request_Transaction.stock_request_id == request.args(0)) & (db.Stock_Request_Transaction.delete == False)).select(db.Item_Master.ALL, db.Stock_Request_Transaction.ALL, db.Item_Prices.ALL, left = [db.Item_Master.on(db.Item_Master.id == db.Stock_Request_Transaction.item_code_id),db.Item_Prices.on(db.Item_Prices.item_code_id == db.Stock_Request_Transaction.item_code_id)]):

19 - wael 
20 - john
11 - user
22 - back office
17 - HAKIM
18 - manoj 
21 - juti
isinstance(_id, list):

sudo systemctl restart postgresql-10.service
sudo systemctl stop postgresql.service
sudo systemctl start postgresql.service
sudo systemctl enable postgresql.service
sudo systemctl status postgresql.service
    {{if form.errors:}}    
    <ul>
        {{for fieldname in form.errors:}}
            <li>{{=form.errors[fieldname]}}</li>
        {{pass}}
    </ul>
    {{form.errors.clear()}}
    {{pass}}
    

HR MANAGEMENT
Main Menu
- Core HR/HRIS
    - Basic Information
    - Address Details
    - Account Details
    - Employment Details
    - Other Details
- Payroll Management 
    - Dashboard
    - Run Payroll
    - Employees
    - Payroll History
    - Benefits
    - Forms
    - Settings
- Leave and Attendance Management
    - Dashboard
    - Application
    - Approval
    - Config
    - Reports
- Employee Self-Service
- Reports

ASSET MANAGEMENT
Main Menu
    - Dashboard
    - IT Management    
        - Dashboard
        - Machines
        - Software
        - Hardware
        - Reports
    - Office Administration
        - Dashboard
        - x
        - x
        - x
        - x
- Reports

ADMINISTRATION MANAGEMENT
Main Menu
    - Dashboard

FLEET MANAGEMENT
Main Menu
    - Dashboard
 
FINANCE MANAGEMENT
Main Menu
    - Dashboard

Using location.replace() will redirect you, but without saving the history of the previous page. This is better to use when a form is submitted.

But when you want to keep your history you have to use location.href=//path.

Examples:

// Form with steps
document.getElementById('#next').onclick = function() {
   window.location.href='/step2' // Iteration of steps;
}

// Go to next step
document.getElementById('#back').onclick = function() {
   window.history.back();
}

// Finish
document.getElementById('#finish').onclick = function() {
   window.location.href = '/success';
}

// On success page
window.onload = function() {
    setTimeout(function() {
       window.location.replace('/home'); // I can't go back to success page by pressing the back button
    },3000);
}
