Merch & Partners Co. WLL., Zone 40, St. 340, P.O. Box. 5511
Unit No. 27, Bldg. 149, Salwa Road, Al-Asiri Interchange
Doha, Doha
Qatar
Phone: 55703868

merch4658666

T.force('it-it')
op: lar 
pa: 54193
np: larrypass123

127.0.0.1 5 1563693275

DayOFF
August 24, 2019 - Troubleshoot Tawar Mall

Operation	        SQL	    HTTP	            RESTful WS	    DDS
Create	            INSERT	PUT / POST	        POST	        write
Read (Retrieve)	    SELECT	GET	                GET	            read / take
Update (Modify)	    UPDATE	PUT / POST / PATCH	PUT	            write
Delete (Destroy)	DELETE	DELETE	            DELETE	        dispose

DATABASE 
Merch_HR_DB
Merch_RootDB
m3rch_admin_db
m3rch_asset_db
m3rch_finance_db
m3rch_fleet_db
m3rch_hr_db
m3rch_root_db
m3rch_inv_db
https://adminlte.io/themes/AdminLTE/index.html

MERCH STRUCTURE
Merch ERP/IT Admin  -   :3000/m3rch_root_db
 - Merch Inventory  -   :3010/m3rch_inv_db
 - Merch Sales      -   :3020/m3rch_inv_db
 - Merch Procurement-   :3030/m3rch_inv_db
 - Merch Finance    -   :3040/m3rch_finance_db
 - Merch Assets     -   :3050/m3rch_assets_db
 - Merch HR         -   :3060/m3rch_hr_db
 - Merch Off Admin  -   :3070/m3rch_off_admin_db
 - Merch Fleet      -   :3080/m3rch_fleet_db
 

lpstat -p -d
lpr -P "MyPrinterName" filename.pdf
Generic-PostScript # printer name

git fetch --all followed by 'git reset --hard origin/master

SELECT MAX(ID) FROM public."Item_Master";
SELECT nextval('"Item_Master_id_seq"');
SELECT setval('"Item_Master_id_seq"', (SELECT MAX(ID) FROM public."Item_Master")+1);

Issue
What options can I specify when starting Acrobat/Adobe Reader from the command line?
Solutions (resolution Method)
You can use Acrobat/Adobe Reader command-line operations as is, but it is not a supported feature. We do not provide information on the use of technical support. Please understand it before hand.
The following command list is an example of Adobe Reader, but if you use Acrobat, use Acrobat.exe instead of Acrord32.exe.
-Acrord32.exe filename
View PDF files in Adobe Reader

Startup options
/n: Start Acrobat application as another instance when you are already running Acrobat
/s: start acrobat without displaying the splash screen
/o: Launch acrobat without displaying the Open file dialog
/h: Start Acrobat but do not display it (only load it in memory)

-Acrord32.exe/p filename
print PDF files in Adobe Reader
-Acrord32.exe/t path Printername drivername portname
Start Adobe Reader and print a PDF file without displaying the Print dialog box and exit Adobe Reader

$('#no_table_other_charges, #no_table_custom_duty_charges, #no_table_landed_cost, #discount').change(function(){
        
        addcomputed();
    });

    function addcomputed(){
        var _addcomputed = 0

        var _lan = $('#no_table_landed_cost').val();
        var _cus = $('#no_table_custom_duty_charges').val();
        var _oth = $('#no_table_other_charges').val();

        var _ton = $('#total_net_amount').val();
        var _dis = $('#discount').val();        
        var _for = $('#foreign_total_amount').val();
        var _loc = $('#local_total_amount').val();

        _for = (parseFloat(_ton) * (100 - parseInt(_dis))) / 100
        _loc = parseFloat(_for) * parseFloat(_lan)
        _addcomputed = parseFloat(_loc) + parseFloat(_oth) + parseFloat(_cus) 
        $('#foreign_total_amount').val(Number(_for.toFixed(6)).toLocaleString());          
        $('#local_total_amount').val(Number(_addcomputed.toFixed(6)).toLocaleString());          
        //$('#local_total_amount').html(_addcomputed);
        console.log(_for,_loc, _addcomputed, );
    }
    
Printing options
Path: File path
Printername: Printer Name
DriverName: Printer driver name (checked with printer properties)
PortName: Printer port name (do not include the letter "/")
#---- sales invoice & sales return automatic print ----#
def sales_order_report_account_user() # sales invoice

os.system(acrobat_path + " /p /h " + self.options.dest_name)

$('#foreign_amount').val(Number(fa.toFixed(2)).toLocaleString());
$('#local_amount').val(Number(la.toFixed(2)).toLocaleString());

def register_bottle():
  tasters = range(10)
  form=SQLFORM.factory(db.bottle,*[Field('taster%i'%i, db.auth_user,label=T('Taster #%i'%i)) for i in tasters])
  if form.accepts(request,session):
    bottle_id = \db.bottle.insert(**db.bottle._filter_fields(form.vars))
   for i in tasters:
     if 'taster%i'%i in form.vars:
       db.taster.insert(auth_user=form.vars...
# consolidation 

<link rel="stylesheet" href="{{=URL('static','js/lou-multi-select-57fb8d3/css/multi-select.css')}}"/>	

    <div class="col-md-6>
        <select multiple="multiple" id="my-select" name="my-select[]">
            {{ for x in db(db.Purchase_Request.status_id == 17).select(): }}
            <option value='{{=x.id}}'>{{=x.purchase_order_no_prefix_id.prefix}}{{=x.purchase_order_no}} - {{=x.supplier_code_id.supp_code}}</option>
            {{ pass }}
        </select>

    </div>
    <br>
    <input class="btn btn-primary" type="submit" id="btnProceed" value="proceed">
    
    
    <br>
    <br>
    <div id = "proceed">
        {{=form}}
    </div>


<script src="{{=URL('static','js/lou-multi-select-57fb8d3/js/jquery.multi-select.js')}}" type="text/javascript"></script>
<script>
    $('#my-select').multiSelect({
        selectableHeader: "<div class='custom-header'>Selectable PO</div>",
        selectionHeader: "<div class='custom-header'>Selected PO</div>",
        afterSelect: function(values){
            var myJSON = JSON.parse(values);
            ajax('{{=URL('procurement','selected_po')}}' + '/' +  myJSON ); 
        },
        afterDeselect: function(values){
            var myJSON = JSON.parse(values);
            ajax('{{=URL('procurement','deselected_po')}}' + '/' +  myJSON ); 
        }
    })
    
</script>
<script>
    $(document).ready(function(){
        $("#proceed").hide();
        $("#btnProceed").click(function(){
             $("#proceed").slideDown('slow');
             return false;
        });
    });
</script>

import reshaper
from bidi.algorithm import get_display
from reportlab.platypus import SimpleDocTemplate, Paragraph
from reportlab.pdfbase import pdfmetrics
from reportlab.lib.styles import ParagraphStyle
from reportlab.pdfbase.ttfonts import TTFont

arabic_text = reshaper.reshape(u'العربية')Com
arabic_text = get_display(arabic_text)
pdfmetrics.registerFont(TTFont('Arabic-bold', '/path-to-your-arabic-font'))

TRUNCATE TABLE "<table>" RESTART IDENTITY; // PostgreSQL

TRUNCATE TABLE [<table>] GO // SQL Server
ALTER SEQUENCE Test.CountBy1 RESTART WITH 1 ;  // SQL Server
TRUNCATE TABLE PartitionTable1 WITH (PARTITIONS (2, 4, 6 TO 8));  
GO  
sudo -H pip install psycopg2
sudo dpkg -i /path/to/deb/file followed by sudo apt-get install -f 
sudo apt install ./name.deb

python web2py.py -i 127.0.0.1 -p 8000 -f /path/to/apps
* run bin file
    chmod +x file-name.run
    ./file-name.run
    sudo ./file-name.run

for page in pages:
    canvas.setPageSize((page.BBox[2], page.BBox[3]))
    canvas.doForm(makerl(canvas, page))
    canvas.showPage()

{{if form.errors:}}    
<ul>
    {{for fieldname in form.errors:}}
        <li>{{=form.errors[fieldname]}}</li>
    {{pass}}
</ul>
{{form.errors.clear()}}
{{pass}}


Edit static/web2py.js search for /*helper for flash messages*/

and add this command:

setTimeout(‘jQuery(".flash").fadeOut("slow")',5000);

just after:

if (flash.html()) flash.append('<span id="closeflash"> &times; </span>').slideDown();

Adjust 5000 that stands for 5 secods to your needs.

hmac+md5 or hmac+sha512

def flash(message, type='info'):
    return DIV(BUTTON(XML('&times;'), _type='button', _class='close', data=dict(dismiss='alert')),
               message, class='alert alert-%s' % type)

response.flash = flash('You did it!', 'success')

    $(document).on('paste', '#no_table_item_code', function(e) {
        window.setTimeout(function() {
        var withoutSpaces = $("#no_table_item_code").val();
        withoutSpaces = withoutSpaces.replace(/\s+/g, '');
        $("#no_table_item_code").val(withoutSpaces);
            }, 1);
    });

rows=db(WHERE CLAUSE IF YOU HAVE SOME OTHER THAN THE JOIN).select(db.parent.ALL, db.child.ALL, db.grandchild.ALL, join=db.child.on(db.child.parent_id==db.parent.id), left=db.grandchild.on(db.child.id==db.grandchild.child_id))
web2py_component("{{=URL('pricing', 'priceListProduct.load')}}" + "?priceListProductId=" + priceListProductId, target='priceListProductEdit')
# Create a database named 'person' with 'last_name' and 'first_name' fields.
# web2py also creates a field named 'id' automatically.
db.define_table('person',Field('last_name'), Field('first_name'))
     
                 <div class="checkbox">
                <label class="col-sm-6 control-label">
                    <input type="checkbox" >
                    Discount %
                </label>
            </div>

     if ($('#discount').prop('checked')) {
        $('#no_table_discount_percentage').show();
    } else {
        $('#no_table_discount_percentage').hide();
        $('#no_table_discount_percentage').change(function(){
            if ($('#discount').prop('checked')) {
                $('#no_table_discount_percentage').show();
            } else {
                $('#no_table_discount_percentage').hide();
            }
        });
    }

# If no database exists, generate a database of 101 unique records
# with names in the form John1 Smith1, John43 Smith43, etc.
if db(db.person).isempty():
    for eachName in range(101):
        nextNumber=str(eachName)
        db.person.update_or_insert(last_name='Smith'+nextNumber,first_name='John'+nextNumber)
    jQuery(function($) { 
      var data = [ {{for x in db(db.GroupLine).select():}}
        { text: '{{=x.group_line_code}} - {{=x.group_line_name}}', value: '{{=x.id}}', children: [ {{for y in db(db.Brand_Line.group_line_id == x.id).select(db.Brand_Line.brand_line_code, db.Brand_Line.brand_line_name, db.Brand_Line.id  ):}}
            { text:'{{=y.brand_line_code}} - {{=y.brand_line_name}}', value:'{{=y.id}}'}, {{pass}} ] }, {{pass}}   
      ];       
      $('#no_table_group_line_code_id').cascadingSelect({
        subSelects: ['#no_table_brand_line_code_id'],
        data: data
    });

def index():
    import json
    # Select all the records, to show how
    # datatables.net paginates.
    # Rows can't be serialized because they contain a reference to
    # an open database connection. Use as_list()
    # to serialize the query result.
    people = json.dumps(db(db.person).select().as_list())
    # Convert to XML for DataTable
    return dict(results=XML(people))


                _i = db(db.Item_Master.id == request.vars['item_code_id']).select().first()
                print 'one', _i.id
                _stk_fil = db((db.Stock_File.item_code_id == _id.id) & (db.Stock_File.location_code_id == session.location_code_id)).select().first()
                _itm_prc = db(db.Item_Prices.item_code_id == _id.id).select().first()
                _total_pcs = int(request.vars['quantity']) * int(request.vars['uom']) + int(request.vars['pieces'])
                _price_per_piece = float(request.vars['price_cost'].replace(',','')) / int(request.vars['uom'])            
                # if int(request.vars['category_id'][x]) == 1 and int(_id.id):
                # print 'damages', y.id            
                if int(request.vars['_cquantity']) > int(_total_pcs): # updated or insert to purchase receipt transaction if excess

                    _total_pcs = int(_total_pcs) - int(request.vars['_cquantity'])
                    _category_id = 2        

                    _tp = db((db.Transaction_Prefix.dept_code_id == session.dept_code_id) & (db.Transaction_Prefix.prefix_key == 'GRV')).select().first()
                    _dpr = db(db.Direct_Purchase_Receipt.purchase_receipt_no == _tp.current_year_serial_key).select().first()

                    if _dpr:
                        _total = int('{:,d}'.format(abs(_total_pcs))) * float(request.vars['price_cost'].replace(',',''))
                        db.Direct_Purchase_Receipt_Transaction.insert(
                            purchase_receipt_no_id = session._dpr,
                            item_code_id = _id.id,
                            category_id = 2,
                            quantity = str('{:,d}'.format(abs(_total_pcs))),
                            uom = request.vars['uom'],
                            price_cost = float(request.vars['price_cost'].replace(',','')),
                            total_amount = _total,
                            excessed = True)
                    else:
                        _skey = _tp.current_year_serial_key
                        _skey += 1                                            
                        _tp.update_record(current_year_serial_key = int(_skey), updated_on = request.now, updated_by = auth.user_id)   
                        db.Direct_Purchase_Receipt.insert(
                            purchase_receipt_no_prefix_id = _tp.id,
                            purchase_receipt_no = _skey,                        
                            dept_code_id = _pr.dept_code_id,
                            supplier_code_id = _pr.supplier_code_id,
                            mode_of_shipment = _pr.mode_of_shipment,
                            location_code_id = _pr.location_code_id,
                            total_amount = _pr.total_amount,
                            total_amount_after_discount = _pr.total_amount_after_discount,
                            currency_id = _pr.currency_id,
                            exchange_rate = _pr.exchange_rate,
                            trade_terms_id = _pr.trade_terms_id,
                            landed_cost = _pr.landed_cost,
                            other_charges = _pr.other_charges,
                            custom_duty_charges = _pr.custom_duty_charges,
                            selective_tax = _pr.selective_tax,
                            supplier_invoice = _pr.supplier_invoice,
                            supplier_account_code = _pr.supplier_account_code,
                            supplier_account_code_description = _pr.supplier_account_code_description,
                            discount_percentage = _pr.discount_percentage,
                            # supplier_reference_order = _pr.supplier_reference_order,
                            status_id = _pr.status_id)                               

                        _dpr = db(db.Direct_Purchase_Receipt.purchase_receipt_no == _skey).select().first()
                        session._dpr = _dpr.id
                        db.Direct_Purchase_Receipt_Transaction.insert(
                            purchase_receipt_no_id = _dpr.id,
                            item_code_id = _id.id,
                            category_id = 2,
                            quantity = str('{:,d}'.format(abs(_total_pcs))),
                            uom = request.vars['uom'],
                            price_cost = float(request.vars['price_cost'].replace(',','')),
                            excessed = True)                              
                elif int(request.vars['_cquantity']) != int(_total_pcs):
                    db.Purchase_Receipt_Transaction.update_or_insert(
                        purchase_receipt_no_id_consolidated = request.args(0),
                        purchase_receipt_no_id = _pr.id,
                        item_code_id = _id.id,
                        category_id = request.vars['category_id'],
                        uom = request.vars['uom'],
                        quantity = int(_total_pcs),                
                        price_cost = float(request.vars['price_cost'].replace(',','')),
                        consolidated = True, 
                        total_amount = _price_per_piece * int(_total_pcs),
                        received = True)                       

                elif int(request.vars['_cquantity']) < int(_total_pcs): # updated or insert to purchase receipt transaction if short                            
                        _total_pcs = int(request.vars['_cquantity']) - int(_total_pcs)                     
                        
                        db.Purchase_Receipt_Transaction.update_or_insert(
                            purchase_receipt_no_id_consolidated = request.args(0),
                            purchase_receipt_no_id = _pr.id,
                            item_code_id = _id.id,
                            # category_id = request.vars['category_id'],                    
                            category_id = 5,
                            uom = request.vars['uom'],
                            quantity = str('{:,d}'.format(abs(_total_pcs))),
                            price_cost = float(request.vars['price_cost'].replace(',','')),
                            difference_quantity = str('{:,d}'.format(abs(_total_pcs))),
                            total_amount = _price_per_piece * int('{:,d}'.format(abs(_total_pcs))),
                            receive_quantity = int(request.vars['_cquantity']),
                            remarks = 'Short by ',
                            partial = True)       
                                
                        _prwc = db(db.Purchase_Receipt_Warehouse_Consolidated.id == request.args(0)).select().first()
                        _prwc.update_record(status_id = 17, draft = True)
                        # _prowc = db(db.Purchase_Receipt_Ordered_Warehouse_Consolidated.purchase_receipt_no_id == request.args(0)).select().first()
                        _prtc = db((db.Purchase_Receipt_Transaction_Consolidated.purchase_receipt_no_id == request.args(0)) & (db.Purchase_Receipt_Transaction_Consolidated.item_code_id == int(_id.id))).select().last()
                        if _prtc:
                            _diff = int(request.vars['_cquantity']) - int(_total_pcs)
                            # print 'prtc', _diff, _prtc.difference_quantity, _prtc.selected, _prtc.consolidated, _prtc.status_id, _prtc.partial
                            _prtc.update_record(
                                difference_quantity = _diff, 
                                selected = False, 
                                consolidated = False, 
                                status_id = 17, 
                                partial = True)        
                        else:
                            _prtcn = db((db.Purchase_Receipt_Transaction_Consolidated_New_Item.purchase_receipt_no_id == request.args(0)) & (db.Purchase_Receipt_Transaction_Consolidated_New_Item.item_code_id == int(_id.id))).select().last()
                            _diff = int(request.vars['_cquantity']) - int(_total_pcs)
                            _prtcn.update_record(
                                difference_quantity = _diff, 
                                selected = False, 
                                consolidated = False, 
                                status_id = 17, 
                                partial = True)        

                elif int(request.vars['_cquantity']) == int(_total_pcs): # updated or insert to purchase receipt transaction  if normal                          
                    db.Purchase_Receipt_Transaction.update_or_insert(
                        purchase_receipt_no_id_consolidated = request.args(0),
                        purchase_receipt_no_id = _pr.id,
                        item_code_id = _id.id,
                        category_id = request.vars['category_id'],
                        uom = request.vars['uom'],
                        quantity = request.vars['_cquantity'],                
                        price_cost = float(request.vars['price_cost'].replace(',','')),
                        consolidated = True, 
                        total_amount = _price_per_piece * int(request.vars['_cquantity']),
                        received = True)    
                    _batch_quantity = int(request.vars['quantity']) * int(request.vars['uom']) + int(request.vars['pieces'])
                    db.Purchase_Batch_Cost.insert(
                        item_code_id = _id.id,
                        purchase_receipt_date = request.now,
                        batch_cost = float(request.vars['price_cost'].replace(',','')),
                        supplier_price = float(request.vars['flanded_cost']),
                        batch_quantity = _batch_quantity,
                        batch_production_date = str(request.vars['production_date']),
                        batch_expiry_date = str(request.vars['expiration_date']))
                    if not _stk_fil:
                        db.Stock_File.insert(
                            item_code_id = _id.id,
                            location_code_id = session.location_code_id,
                            opening_stock = int(request.vars['quantity']),
                            closing_stock = int(request.vars['quantity']),
                            last_transfer_qty = int(request.vars['quantity']))
                        # _ave_cst = (int(request.vars['quantity']) * float(_itm_prc.average_cost)) + (float(_itm_prc.most_recent_landed_cost) * int(request.vars['quantity'])) / (int(_stk_fil.opening_stock) + int(request.vars['quantity']))

                    else:
                        _opn_stk = int(_stk_fil.opening_stock) + int(request.vars['quantity'])
                        _clo_stk = int(_stk_fil.closing_stock) + int(request.vars['quantity'])
                        _stk_fil.update_record(
                            opening_stock = _opn_stk,
                            closing_stock = _clo_stk,
                            last_transfer_qty = int(request.vars['quantity']))

                        # _ave_cst = (int(_stk_fil.opening_stock) * float(_itm_prc.average_cost)) + (float(_itm_prc.most_recent_landed_cost) * int(request.vars['quantity'])) / (int(_stk_fil.opening_stock) + int(request.vars['quantity']))
                        
                        # _itm_prc.update_record(
                        #     average_cost = _ave_cst,
                        #     last_issued_date = request.now,
                        #     updated_by = auth.user_id,
                        #     updated_on = request.now
                        # )
                        # _tot_stk = int(_stk_fil.opening_stock) + int(request.vars['quantity'])
                        # db.Stock_File.update_or_insert(
                        #     (db.Stock_File.item_code_id == _id.id) & (db.Stock_File.location_code_id == session.location_code_id),
                        #     item_code_id = _id.id,
                        #     location_code_id = session.location_code_id,
                        #     closing_stock = _tot_stk,
                        #     last_transfer_qty = int(request.vars['quantity'])
                        # )
                elif int(request.vars['category_id']) == 1: # updated or insert to purchase receipt transaction  if damaged
                    # print 'damages goes here'
                    db.Purchase_Receipt_Transaction.update_or_insert(
                        purchase_receipt_no_id_consolidated = request.args(0),
                        purchase_receipt_no_id = _pr.id,
                        item_code_id = _id.id,
                        category_id = request.vars['category_id'],
                        uom = request.vars['uom'],
                        quantity = request.vars['_cquantity'],                
                        price_cost = float(request.vars['price_cost'].replace(',','')),
                        consolidated = True, 
                        total_amount = _price_per_piece * int(request.vars['_cquantity']),
                        received = True)                  
                    _dmg_stk = db((db.Stock_File.item_code_id == _id.id) & (db.Stock_File.location_code_id == session.location_code_id)).select().first()
                    _tot_dmg = int(_dmg_stk.damaged_stock_qty) + int(request.vars['_cquantity'])
                    _dmg_stk.update_record(
                        damaged_stock_qty = _tot_dmg
                    )


redirect(URL('index', args=(1,2,3), vars=dict(a='b')))

        for i in db(db.Stock_Adjustment_Transaction_Temp.ticket_no_id == str(request.args(0))).select(db.Stock_Adjustment_Transaction_Temp.ALL):
            
            _itm_code = db(db.Item_Master.id == i.item_code_id).select().first()
            
            _itm_price = db(db.Item_Prices.item_code_id == i.item_code_id).select().first()
            
            _qty = i.quantity * _itm_code.uom_value + i.pieces            
            
            _price_cost = i.average_cost /_itm_code.uom_value # price_cost per pcs.

            _total_cost += _price_cost * _qty # total cost per line

<script>
    $(function() {
        $('#Stock_Adjustment_location_code_id').click(function() {
            var locOpt = $('#Stock_Adjustment_location_code_id').find(":selected").val();
            console.log(locOpt)
            
            $('#_loc_cod_id').val(locOpt);
            {{for c in db(db.Location.id == 1).select(): }}
            $('#Stock_Adjustment_stock_adjustment_code').val('{{=c.stock_adjustment_code}}');
            {{ pass }}

            ajax('{{=URL('stock_adjustment_add_new')}}' + '/' + locOpt);
            
        });
    });
</script>
<script>
jQuery('#myform').submit(function() {
  ajax('{{=URL("new_post")}}',
       ['email', 'country'], 'target');
  return false;
});
</script>
new Vue({
	el: "#app",
	data: () => ({
		items: [
			{
				id: "id1",
				name: "John Doe",
				email: "email@example.com"
			},
			{
				id: "id2",
				name: "Jone Doe",
				email: "email2@example.com"
			}
		],
		selected: [],
		selectAll: false
	}),
	methods: {
		select() {
			this.selected = [];
			if (!this.selectAll) {
				for (let i in this.items) {
					this.selected.push(this.items[i].id);
				}
			}
		}
	}
});

<div id="app">
	<div class="text-uppercase text-bold">id selected: {{selected}}</div>
	<table class="table table-striped table-hover">
		<thead>
			<tr>
				<th>
					<label class="form-checkbox">
    <input type="checkbox" v-model="selectAll" @click="select">
    <i class="form-icon"></i>
  </label>
				</th>
				<th>id</th>
				<th>name</th>
				<th>email</th>
			</tr>
		</thead>
		<tbody>
			<tr v-for="i in items">
				<td>
					<label class="form-checkbox">
    					<input type="checkbox" :value="i.id" v-model="selected">
						<i class="form-icon"></i>
  					</label>
				</td>
				<td>{{i.id}}</td>
				<td>{{i.name}}</td>
				<td>{{i.email}}</td>
			</tr>
		</tbody>
	</table>
</div>
<div class="form_edit" style="display:none;">
    <form class="form" role="form">
      <div class="form-group">
        <label for="quantity">Quantity</label>
        <input type="numbers" class="form-control" id="quantity" name="quantity" value="0">
      </div>
      <div class="form-group">
        <label for="pieces">Pieces</label>
        <input type="numbers" class="form-control" id="pieces" name="pieces" value="0">
      </div>
    </form>
</div>
  <script>
  $(document).ready(function() {
  $("#bootbox").on("click", function(event) {
    var modal = bootbox.dialog({
        message: $(".form_edit").html(),
        title: "Your awesome modal",
        buttons: [
          {
            label: "Save",
            className: "btn btn-primary pull-left",
            callback: function() {

              alert($('success').val());
             
              return false;
            }
          },
          {
            label: "Close",
            className: "btn btn-default pull-left",
            callback: function() {
              console.log("just do something on close");
            }
          }
        ],
        show: false,
        onEscape: function() {
          modal.modal("hide");
        }
    });
    
    modal.modal("show");
  });
  

});
</script>



var stateObject = {
    "California": {
        "Monterey": ["Salinas", "Gonzales"],
        "Alameda": ["Berkeley"]
    },
    "Oregon": {
        "Douglas": ["Roseburg", "Winston"],
    }
}
window.onload = function () {
    var stateSel = document.getElementById("stateSel"),
        countySel = document.getElementById("countySel"),
        citySel = document.getElementById("citySel");
    for (var state in stateObject) {
        stateSel.options[stateSel.options.length] = new Option(state, state);
    }
    stateSel.onchange = function () {
        countySel.length = 1; // remove all options bar first
        citySel.length = 1; // remove all options bar first
        if (this.selectedIndex < 1) {
          countySel.options[0].text = "Please select state first"
          citySel.options[0].text = "Please select county first"
          return; // done   
        }  
        countySel.options[0].text = "Please select county"
        for (var county in stateObject[this.value]) {
            countySel.options[countySel.options.length] = new Option(county, county);
        }
        if (countySel.options.length==2) {
          countySel.selectedIndex=1;
          countySel.onchange();
        }  
        
    }
    stateSel.onchange(); // reset in case page is reloaded
    countySel.onchange = function () {
        citySel.length = 1; // remove all options bar first
        if (this.selectedIndex < 1) {
          citySel.options[0].text = "Please select county first"
          return; // done   
        }  
        citySel.options[0].text = "Please select city"
        
        var cities = stateObject[stateSel.value][this.value];
        for (var i = 0; i < cities.length; i++) {
            citySel.options[citySel.options.length] = new Option(cities[i], cities[i]);
        }
        if (citySel.options.length==2) {
          citySel.selectedIndex=1;
          citySel.onchange();
        }  
        
    }
}


            _outer = int(int(_stk_file.probational_balance) / int(_itm_code.uom_value))
            _pcs = int(_stk_file.probational_balance) - (int(_outer * _itm_code.uom_value))
            _on_balanced = str(_outer) + ' ' + str(_pcs) + '/' +str(_itm_code.uom_value)

            _outer_transit = int(int(_stk_file.stock_in_transit) / int(_itm_code.uom_value))   
            _pcs_transit = int(_stk_file.stock_in_transit) - (int(_outer_transit * _itm_code.uom_value))
            _on_transit = str(_outer_transit) + ' ' + str(_pcs_transit) + '/' + str(_itm_code.uom_value)

            _outer_on_hand = int(int(_stk_file.closing_stock) / int(_itm_code.uom_value))
            _pcs_on_hand = int(_stk_file.closing_stock) - (int(_outer_on_hand * _itm_code.uom_value))
            _on_hand = str(_outer_on_hand) + ' ' + str(_pcs_on_hand) + '/' + str(_itm_code.uom_value)

<!-- begin -->
<button class="load_content" data-url="{{=URL('default', 'otherthing1')}}" data-target="ajax_container"> Click to load content1 </button>
<button class="load_content" data-url="{{=URL('default', 'otherthing2')}}" data-target="ajax_container"> Click to load content2 </button>
<button class="load_content" data-url="{{=URL('default', 'otherthing3')}}" data-target="ajax_container"> Click to load content3 </button>
<button class="load_content" data-url="{{=URL('default', 'otherthing4')}}" data-target="ajax_container"> Click to load content4 </button>


<div id="ajax_container"> <!-- CONTENT COMES HERE --> </div>

<script>
$(function () {
   $('.load_content').on('click', function (e) {
        elem = $(this); // elem = $(e.target)
        url = elem.attr("data-url");
        target = elem.attr("data-target");
        web2py_ajax_page("GET", url, "", target);
        return false; // e.preventDefault()
      });
})
</script>
<!-- end -->

            {{=form.custom.begin}}					
            <div class="form-horizontal">   
                <div class="form-group">
                    <label class="col-sm-2 control-label">Item Code</label>
                    <div class="col-sm-8">{{=form.custom.widget.item_code}}</div>    
                </div>    

                <div class="form-group">
                    <label class="col-sm-2 control-label">Description</label>
                    <div class="col-sm-8">{{=form.custom.widget.item_description}}</div>    
                </div>    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Arabic Description</label>

                    <div class="col-sm-8">{{=form.custom.widget.item_description_ar}}</div>
                </div>    

                <div class="form-group">
                    <label class="col-sm-2 control-label">Supplier Item Reference</label>
                    <div class="col-sm-8">{{=form.custom.widget.supplier_item_ref}}</div>
                </div>    
                <div class="form-group">
                    <label class="col-sm-2 control-label">International Barcode</label>
                    <div class="col-sm-8">{{=form.custom.widget.int_barcode}}</div>
                </div>    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Local Barcode</label>
                    <div class="col-sm-8">{{=form.custom.widget.loc_barcode}}</div>
                </div>        
                <div class="form-group">
                    <label class="col-sm-2 control-label">Purchase Point</label>
                    <div class="col-sm-8">{{=form.custom.widget.purchase_point}}</div>
                </div>        
                <div class="form-group">
                    <label class="col-sm-2 control-label">Selective Tax</label>
                    <div class="col-sm-8">{{=form.custom.widget.selectivetax}}</div>
                </div>                    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Vat Percentage</label>
                    <div class="col-sm-8">{{=form.custom.widget.vatpercentage}}</div>
                </div>      
                <div class="form-group">
                    <label class="col-sm-2 control-label">UOM Value</label>
                    <div class="col-sm-4">{{=form.custom.widget.uom_value}}</div><div class="col-sm-4">{{=form.custom.widget.uom_id}}</div><div class="col-sm-2"></div>
                </div>                    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Supplier UOM</label>
                    <div class="col-sm-4">{{=form.custom.widget.supplier_uom_value}}</div><div class="col-sm-4">{{=form.custom.widget.supplier_uom_id}}</div><div class="col-sm-2"></div>
                </div>                    

                <div class="form-group">
                    <label class="col-sm-2 control-label">Weight Value</label>
                    <div class="col-sm-4">{{=form.custom.widget.weight_value}}</div><div class="col-sm-4">{{=form.custom.widget.weight_id}}</div><div class="col-sm-2"></div>
                </div>                    

                <div class="form-group">
                    <label class="col-sm-2 control-label">Item Type</label>
                    <div class="col-sm-8">{{=form.custom.widget.type_id}}</div>
                </div>                    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Division</label>
                    <div class="col-sm-8">{{=form.custom.widget.division_id}}</div>
                </div>                    
    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Department</label>
                    <div class="col-sm-8">{{=form.custom.widget.dept_code_id}}</div>
                </div>                    

              
                <div class="form-group">
                    <label class="col-sm-2 control-label">Supplier</label>
                    <div class="col-sm-8">{{=form.custom.widget.supplier_code_id}}</div>
                </div>                    

                <div class="form-group">
                    <label class="col-sm-2 control-label">Product</label>
                    <div class="col-sm-8">{{=form.custom.widget.product_code_id}}</div>
                </div>                    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Sub-Product</label>
                    <div class="col-sm-8">{{=form.custom.widget.subproduct_code_id}}</div>
                </div>                    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Group Line</label>
                    <div class="col-sm-8">{{=form.custom.widget.group_line_id}}</div>
                </div>                    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Brand Line</label>
                    <div class="col-sm-8">{{=form.custom.widget.brand_line_code_id}}</div>
                </div>                    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Brand Classfication</label>
                    <div class="col-sm-8">{{=form.custom.widget.brand_cls_code_id}}</div>
                </div>                    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Section</label>
                    <div class="col-sm-8">{{=form.custom.widget.section_code_id}}</div>
                </div>                    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Size</label>
                    <div class="col-sm-8">{{=form.custom.widget.size_code_id}}</div>
                </div>                    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Gender</label>
                    <div class="col-sm-8">{{=form.custom.widget.gender_code_id}}</div>
                </div>                    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Fragrance Code</label>
                    <div class="col-sm-8">{{=form.custom.widget.fragrance_code_id}}</div>
                </div>                    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Color</label>
                    <div class="col-sm-8">{{=form.custom.widget.color_code_id}}</div>
                </div>                    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Collection</label>
                    <div class="col-sm-8">{{=form.custom.widget.collection_code_id}}</div>
                </div>                    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Made In</label>
                    <div class="col-sm-8">{{=form.custom.widget.made_in_id}}</div>
                </div>                    
                    
                    
                <div class="form-group">
                    <label class="col-sm-2 control-label">Item Status</label>
                    <div class="col-sm-8">{{=form.custom.widget.item_status_code_id}}</div>
                </div>             
                <hr>
                <span class="card-title">ITEM PRICE</span>
                <hr>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Most Recent Cost</label>
                    <div class="col-sm-8">{{=form.custom.widget.most_recent_cost}}</div>
                </div>             

                <div class="form-group">
                    <label class="col-sm-2 control-label">Average Cost</label>
                    <div class="col-sm-8">{{=form.custom.widget.average_cost}}</div>
                </div>             
                <div class="form-group">
                    <label class="col-sm-2 control-label">Most Recent Landed Cost</label>
                    <div class="col-sm-8">{{=form.custom.widget.most_recent_landed_cost}}</div>
                </div>             
                <div class="form-group">
                    <label class="col-sm-2 control-label">Currency</label>
                    <div class="col-sm-8">{{=form.custom.widget.currency_id}}</div>
                </div>             
                <div class="form-group">
                    <label class="col-sm-2 control-label">Opening Average Cost</label>
                    <div class="col-sm-8">{{=form.custom.widget.opening_average_cost}}</div>
                </div>             
                <div class="form-group">
                    <label class="col-sm-2 control-label">Last Issued Date</label>
                    <div class="col-sm-8">{{=form.custom.widget.last_issued_date}}</div>
                </div>     
                <div class="form-group">
                    <label class="col-sm-2 control-label">Wholesale Price</label>
                    <div class="col-sm-8">{{=form.custom.widget.wholesale_price}}</div>
                </div>     
                <div class="form-group">
                    <label class="col-sm-2 control-label">Retail Price</label>
                    <div class="col-sm-8">{{=form.custom.widget.retail_price}}</div>
                </div>                                     
                <div class="form-group">
                    <label class="col-sm-2 control-label">Vansale Price</label>
                    <div class="col-sm-8">{{=form.custom.widget.vansale_price}}</div>
                </div>     
                <div class="form-group">
                    <label class="col-sm-2 control-label">Reorder Quantity</label>
                    <div class="col-sm-8">{{=form.custom.widget.reorder_qty}}</div>
                </div>                                     

                <div class="form-group">
                    <label class="col-sm-2 control-label"></label>
                    <div class="col-sm-8">{{=form.custom.submit}}</div>
                </div>  
                                                  
            </div>

            {{=form.custom.end}} 


    $('.quantity').change(function(){        

        console.log(this.value, $('.pieces').val());

    });

    $('.pieces').change(function(){        
        console.log(this.value);
    });

    $('.price_cost').change(function(){        
        console.log(this.value);
    });

    $('#discount').change(function(){        
        calculate();
    });

    $('#no_table_exchange_rate').change(function(){        
        calculate();
    });

    function calculate(){   
        var _total_pieces = 0;
        var _price_cost = 0;
        var _total_amount = 0;
        var _total_net_amount = 0;
        var _qty = parseInt($('.quantity').val()); 
        var _uom = parseInt($('.uom').val()); 
        var _pcs = parseInt($('.pieces').val());
        var _pc = parseInt($('.price_cost').val());
        var _tn = parseInt($('._total_net_amount').val());
        _total_pieces = _qty * _uom + _pcs        
        _price_cost = _pc / _uom
        _total_amount = _price_cost * _total_pieces        
        console.log(_qty, _uom , _pcs);
        $('.total_amount').val(Number(_total_amount.toFixed(6)).toLocaleString());
        _tot_net_amount = Number($('#total_amount').val()) + Number($('#total_amount_3').val())
        $('#total_net_amount').val(Number(_tot_net_amount.toFixed(6)).toLocaleString());

        $('#foreign_total_amount').val(
            $('#total_net_amount').val() * (100 - Number($('#discount').val())) / 100
        );

        $('#local_total_amount').val(
            Number($('#foreign_total_amount').val()) * Number($('#no_table_exchange_rate').val())
        );
        
    }

    function calculate_3(){   
        var _total_pieces = 0;
        var _price_cost = 0;
        var _total_amount = 0;
        var _total_net_amount = 0;
        var _qty = $('#quantity_3').val(); 
        var _uom = $('#uom_3').val(); 
        var _pcs = $('#pieces_3').val();
        var _pc = $('#price_cost_3').val();
        var _tn = $('#_total_net_amount_3').val();
        var _dis = $('#discount').val();
        _total_pieces = _qty * _uom + Number(_pcs)        
        _price_cost = _pc / _uom
        _total_amount = _price_cost * _total_pieces
    
        $('#total_amount_3').val(Number(_total_amount.toFixed(2)).toLocaleString());
        _tot_net_amount = Number($('#total_amount').val()) + Number($('#total_amount_3').val())
        $('#total_net_amount').val(Number(_tot_net_amount.toFixed(6)).toLocaleString());
        $('#foreign_total_amount').val(
            $('#total_net_amount').val() * (100 - Number($('#discount').val())) / 100
        );
        $('#local_total_amount').val(
            Number($('#foreign_total_amount').val()) * Number($('#no_table_exchange_rate').val())
        );
        
    }    
